<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>FEATURES · 伴行天使-车载婴幼儿监护器</title>
  <link rel="stylesheet" href="styles/base.css"/>
  <link rel="stylesheet" href="styles/components.css"/>
  <link rel="stylesheet" href="styles/utilities.css"/>
  <script src="scripts/app.js" defer></script>
  <script src="scripts/sim.js" defer></script>


  <style>
    .v-split { display:grid; gap:12px; grid-template-columns: 240px 1fr; }
    @media (max-width: 900px){ .v-split { grid-template-columns: 1fr; } }

    /* 左侧纵向条目做成按钮，便于点击与键盘操作 */
    .v-nav { display:flex; flex-direction:column; gap:10px; }
    .v-item{
      appearance:none; border:1px solid #f0f0f0; border-radius:12px; background:#fff;
      padding:10px 12px; width:100%; text-align:left; cursor:pointer;
      display:flex; align-items:center; gap:10px;
    }
    .v-item .icon{
      width:28px; height:28px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      background:#f5f5f5; font-weight:700;
    }
    .v-item b{ display:block; }
    .v-item .sub{ font-size:12px; color:#777; }
    .v-item.active{ border-color:#bbdefb; background:#e3f2fd; box-shadow:0 0 0 3px rgba(27,115,232,.08) inset; }
    .v-item:focus-visible{ outline:2px solid #1565c0; outline-offset:2px; }

    .v-content .card{ margin-bottom:12px; }
    .v-content b{ display:block; margin-bottom:6px; }

    /* 右侧卡片闪动高亮效果 */
    @keyframes flashRing {
      0%   { box-shadow:0 0 0 0 rgba(21,101,192,.35); }
      100% { box-shadow:0 0 0 14px rgba(21,101,192,0); }
    }
    .flash{ animation: flashRing 1s ease-out; outline:2px solid rgba(21,101,192,.25); outline-offset:-2px; }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="container">
      <nav class="nav">
        <div class="brand">
          <div class="logo">伴</div>
          <div>伴行天使·车载婴幼儿监护器</div>
        </div>
        <div class="nav-links">
          <a href="index.html" class="">首页</a>
          <a href="features.html" class="active">功能介绍</a>
          <a href="device.html" class="">硬件与安装</a>
          <a href="safety.html" class="">安全与告警</a>
          <a href="privacy.html" class="">隐私与合规</a>
          <a href="docs.html" class="">使用文档</a>
          <a href="faq.html" class="">常见问题</a>
          <a href="contact.html" class="">联系我们</a>
        </div>

      </nav>
    </div>
  </header>

  <main>

    <section class="section">
      <div class="container">
        <div class="card">
          <div class="v-split">
            <!-- 左侧：纵向功能条目（按钮） -->
            <aside class="v-nav" role="tablist" aria-orientation="vertical" aria-label="功能介绍">
              <button class="v-item active" id="tab-posture" role="tab" aria-selected="true" data-target="#feat-posture" type="button">
                <div class="icon">A</div>
                <div><b>姿态检测</b><div class="sub">端正 / 前倾 / 偏斜 / 离座</div></div>
              </button>
              <button class="v-item" id="tab-temp" role="tab" aria-selected="false" data-target="#feat-temp" type="button">
                <div class="icon">B</div>
                <div><b>温度提示</b><div class="sub">舒适 / 警告 / 危险 分级</div></div>
              </button>
              <button class="v-item" id="tab-belt" role="tab" aria-selected="false" data-target="#feat-belt" type="button">
                <div class="icon">C</div>
                <div><b>安全带状态</b><div class="sub">已系 / 未系 清晰标识</div></div>
              </button>
            </aside>

            <!-- 右侧：对应说明卡片（带 id 便于定位） -->
            <div class="v-content">
              <div class="card" id="feat-posture" role="tabpanel" aria-labelledby="tab-posture">
                <b>姿态检测</b>
                <p>演示坐姿端正、前倾、偏斜、离座等姿态的语义标签与状态样式，便于快速分辨风险姿态。</p>
              </div>
              <div class="card" id="feat-temp" role="tabpanel" aria-labelledby="tab-temp">
                <b>温度提示</b>
                <p>以颜色与文案区分舒适/警告/危险多档位；阈值可结合场景调整，提示更符合体感与车内环境。</p>
              </div>
              <div class="card" id="feat-belt" role="tabpanel" aria-labelledby="tab-belt">
                <b>安全带状态</b>
                <p>“已系/未系”使用高可读徽标与辅助色，异常时联动告警面板，减少漏看与误读。</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 下方：功能交互演示（保持原有内容） -->
    <section class="section">
      <div class="container">
        <div class="section-title"><div class="dot"></div><h2>功能交互演示</h2></div>

        <div class="tabs" role="tablist" aria-label="功能分组">
          <div class="tab" role="tab" aria-selected="true" data-target="tab-visual">可视化</div>
          <div class="tab" role="tab" aria-selected="false" data-target="tab-threshold">阈值设置</div>
          <div class="tab" role="tab" aria-selected="false" data-target="tab-logs">事件记录</div>
        </div>

        <div id="tab-visual" role="tabpanel" class="tabpanel active">
          <div class="grid-3">
            <div class="card feature card-hover"><div class="icon">A</div><div><b>姿态</b><p>当前：<b data-bind="posture">--</b></p></div></div>
            <div class="card feature card-hover"><div class="icon">B</div><div><b>温度</b><p>当前：<b data-bind="temp">--</b></p></div></div>
            <div class="card feature card-hover"><div class="icon">C</div><div><b>安全带</b><p>当前：<b data-bind="seatbeltOn">--</b></p></div></div>
          </div>
        </div>

        <div id="tab-threshold" role="tabpanel" class="tabpanel">
          <div class="card">
            <p>自定义告警阈值（保存在浏览器本地）：</p>
            <div class="grid-3">
              <label>高温阈值(℃)<input class="p-6" type="number" data-threshold="highTemp" value="35"/></label>
              <label>低温阈值(℃)<input class="p-6" type="number" data-threshold="lowTemp" value="5"/></label>
              <label>昏睡判定(s)<input class="p-6" type="number" data-threshold="drowsySec" value="20"/></label>
            </div>
            <p class="m-10"><small>这些阈值会保存到 <code>localStorage</code>，用于后续计算。</small></p>
          </div>
        </div>

        <div id="tab-logs" role="tabpanel" class="tabpanel">
          <div class="card">
            <p>示例事件：</p>
            <table class="table">
              <thead><tr><th>时间</th><th>事件</th><th>等级</th></tr></thead>
              <tbody>
                <tr><td>10:21:03</td><td>安全带未系好</td><td><span class="badge">警告</span></td></tr>
                <tr><td>10:29:44</td><td>高温风险</td><td><span class="badge">严重</span></td></tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="grid-3">
        <div>
          <b>关于项目</b>
          <p>本网站为软著用展示代码，仅使用 HTML + CSS，不包含任何 JS 脚本。</p>
        </div>
        <div>
          <b>技术栈</b>
          <p>纯静态页面、响应式布局、可直接离线打开预览。</p>
        </div>
        <div>
          <b>声明</b>
          <p>© 2025 伴行天使团队。面向车载婴幼儿照护的可视化与交互演示。</p>
        </div>
      </div>
    </div>
  </footer>


  <script>
    (function(){
      const items = Array.from(document.querySelectorAll('.v-nav .v-item'));
      const panels = Array.from(document.querySelectorAll('.v-content .card[id]'));


      const map = new Map();
      items.forEach(btn => {
        const sel = btn.dataset.target;
        const panel = document.querySelector(sel);
        if (panel) map.set(panel, btn);
      });

      function setActive(btn){
        items.forEach(b => { b.classList.remove('active'); b.setAttribute('aria-selected','false'); });
        if (btn){ btn.classList.add('active'); btn.setAttribute('aria-selected','true'); }
      }


      items.forEach(btn => {
        btn.addEventListener('click', () => {
          const sel = btn.dataset.target;
          const panel = document.querySelector(sel);
          setActive(btn);
          if (panel){
            panel.scrollIntoView({behavior:'smooth', block:'start'});
            panel.classList.add('flash');
            setTimeout(() => panel.classList.remove('flash'), 1200);
            if (sel.startsWith('#')) history.replaceState(null, '', sel);
          }
        });
      });

      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && entry.intersectionRatio > 0.6) {
            const btn = map.get(entry.target);
            if (btn) setActive(btn);
          }
        });
      }, { threshold: [0.6] });

      panels.forEach(p => io.observe(p));

      if (location.hash){
        const target = document.querySelector(location.hash);
        if (target){
          setTimeout(() => {
            target.scrollIntoView({behavior:'smooth', block:'start'});
            const btn = map.get(target);
            if (btn) setActive(btn);
            target.classList.add('flash');
            setTimeout(() => target.classList.remove('flash'), 1200);
          }, 0);
        }
      }
    })();
  </script>
  <script src="scripts/app.js"></script>
</body>
</html>
